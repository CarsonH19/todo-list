(()=>{"use strict";const e={projects:{Default:[]},addProject:t=>{e.projects[t]||(e.projects[t]=[])},getProjects:()=>Object.keys(e.projects)},t=document.getElementById("todo-list"),o=()=>{const t=document.getElementById("project-select");t.innerHTML="",e.getProjects().forEach((e=>{const o=document.createElement("option");o.value=e,o.textContent=e,t.appendChild(o)}))},n=e=>{t.innerHTML="",e.forEach(((e,o)=>{const n=document.createElement("li");n.innerHTML=`\n      <strong>${e.title}</strong>\n      <p>${e.description}</p>\n      <p>Due Date: ${e.dueDate}</p>\n      <p>Priority: ${e.priority}</p>\n      <button class="complete-btn" data-index="${o}">Complete</button>\n    `,t.appendChild(n)}))},c=t=>e.projects[t]||[];class s{constructor(e,t,o,n){this.title=e,this.description=t,this.dueDate=o,this.priority=n,this.completed=!1}}const d=document.getElementById("project-select"),r=document.getElementById("todo-form"),l=document.getElementById("addProject"),p=e=>{const t=c(e);n(t)},a=t=>{t.preventDefault();const o=document.getElementById("title").value,n=document.getElementById("description").value,c=document.getElementById("due-date").value,l=document.getElementById("priority").value,a=d.value,i=new s(o,n,c,l);var m,u;m=a,u=i,e.projects[m]||e.addProject(m),console.log(`projects: ${e.projects}`),console.log(`projectName: ${m}`),console.log(`Todo: ${u}`),e.projects[m].push(u),p(a),r.reset()},i=()=>{const t=prompt("Enter a new project name:");t&&(e.addProject(t),o())},m=()=>{const e=d.value;p(e)};document.addEventListener("DOMContentLoaded",(()=>{(()=>{o();const e=c("Default");n(e)})(),(()=>{const t=document.getElementById("project-select");document.getElementById("todo-form").addEventListener("submit",a),l.addEventListener("click",i),t.addEventListener("change",m),document.addEventListener("click",(o=>{if(o.target.classList.contains("complete-btn")){console.log("Complete button clicked!");const s=o.target.dataset.index,d=t.value;((t,o)=>{const n=e.projects[t].splice(o,1)[0];n.completed=!0;const c=e.projects.Completed||[];c.push(n),e.projects.Completed=c})(d,s);const r=c(d);n(r),console.log(t)}}))})()}))})();